plugins {
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    maven {
        name 'NyaaCat'
        url 'https://ci.nyaacat.com/maven/'
    }
    maven {
        name 'Spigot'
        url 'https://hub.spigotmc.org/nexus/content/groups/public/'
    }
}


String majorVersion = 1
String minorVersion = 0
String minecraftVersion = "1.15.1"
String buildNumber = System.getenv("BUILD_NUMBER") == null ? "686936"             : System.getenv("BUILD_NUMBER")

version = "$majorVersion.$minorVersion-$buildNumber"

dependencies {
    compileOnly(files('lib/InfiniteInfernal-1.0-SNAPSHOT.jar'))
    compileOnly('cat.nyaa:nyaacore:7.1-SNAPSHOT')
    compileOnly('cat.nyaa:rpgitems:3.8-SNAPSHOT')
    compileOnly("org.spigotmc:spigot-api:$minecraftVersion-R0.1-SNAPSHOT")

    testCompile group: 'junit', name: 'junit', version: '4.12'
}
